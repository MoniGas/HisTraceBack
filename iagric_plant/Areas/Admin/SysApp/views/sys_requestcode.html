<!DOCTYPE html>
<html id="html1">
<head>
    <title></title>
</head>
<body>
    <div class="page-content">
        <div class="breadcrumbs" id="breadcrumbs">
            <ul class="breadcrumb">
                <li><i class="ace-icon fa fa-home home-icon"></i><a href="#home" title="返回到首页">首页</a>
                </li>
                <li class="active">二维码管理</li>
            </ul>
            <span><a href="javascript:void(0);" data-bind="click:goBack" title="返回到上一页"><i class="ace-icon fa fa-angle-double-left">
            </i>返回</a> </span>
        </div>
        <div class="row clearfix mat10">
            <form class="form-horizontal" role="form" onkeydown="if(event.keyCode==13)return false;">
            <div class="form-group mab0 clearfix">
                <div class="col-md-8">
                    <div class="col-md-3">
                        <div class="input-group stylish-input-group">
                            <input type="text" class="form-control" placeholder="企业名称..." data-bind="value:searchName" />
                            <span class="input-group-addon btn-success">
                                <button id="btnSearch" type="button" data-bind="click:searchRequest">
                                    <span class="fa fa-search"></span>
                                </button>
                            </span>
                        </div>
                    </div>
                    <div class="col-md-9">
                        <div class="form-inline">
                            <span class="lbl">筛选：</span>
                            <!--<select class="form-control" data-placeholder="选择查询产品..." id="newsModules" data-bind="options:vmNewsModels.newsModelsArray,value:vmNewsModels.selectedSelOption,optionsCaption:'选择查询产品',optionsText:'MaterialFullName',optionsValue:'Material_ID'">
                        </select>-->
                            <input type="text" class="form-control" placeholder="产品名称..." data-bind="value:materialName,valueUpdate: 'afterkeydown'" />
                            <input placeholder="开始时间" class="form-control date-picker" id="date1" type="text"
                                data-date-format="yyyy-mm-dd" data-bind="value:beginDate,event:{onchange:onchangeBeginData()}" />
                            -
                            <input placeholder="结束时间" class="form-control date-picker" id="date2" type="text"
                                data-date-format="yyyy-mm-dd" data-bind="value:endDate,event:{onchange:onchangeEndData()}" />
                        </div>
                    </div>
                </div>
            </div>
            <div class="space-4">
            </div>
            </form>
        </div>
        <div class="row">
            <div class="col-md-12">
                <table id="simple-table" class="table table-striped table-bordered table-hover">
                    <thead>
                        <tr>
                            <th class="center">
                                申请日期
                            </th>
                            <th>
                                企业名称
                            </th>
                            <th>
                                产品名称
                            </th>
                            <!--<th>
                                类型
                            </th>
                            <th>
                                规格
                            </th>-->
                            <th>
                                申请数量
                            </th>
                            <!--                            <th>
                                审核数量
                            </th>-->
                            <th>
                                生成数量
                            </th>
                            <th>
                                已使用数量
                            </th>
                            <th>
                                审批状态
                            </th>
                            <th width="400">
                                操作
                            </th>
                        </tr>
                    </thead>
                    <tbody data-bind="foreach:vmRequest.ObjList">
                        <tr data-bind="event: { mouseover: $parent.mouseoverFun, mouseout: $parent.mouseoutFun}">
                            <td>
                                <span data-bind="text:$data.StrRequestDate"></span>
                            </td>
                            <td>
                                <span data-bind="text:$data.EnterpriseName"></span>
                            </td>
                            <td>
                                <span data-bind="text:$data.MaterialFullName"></span>
                            </td>
                            <!--<td>
                                <span data-bind="text:$parent.ViewType($data.Type)"></span>
                            </td>
                            <td>
                                <span data-bind="text:$parent.ViewSpecification($data.Specifications)"></span><span data-bind="text:$parent.ViewSpecification($data.GuiGe)"></span>
                            </td>-->
                            <td>
                                <span data-bind="text:$data.ApplyCount"></span><span data-bind="text:$parent.ViewUnit($data.Type)">
                                </span>
                            </td>
                            <!--                            <td>
                                <span data-bind="text:$data.RequestCount"></span><span data-bind="text:$parent.ViewUnit($data.Type)"></span>
                            </td>-->
                            <td>
                                <span data-bind="text:$data.CreateCount"></span><span data-bind="text:$parent.ViewUnit($data.Type)">
                                </span>
                            </td>
                            <td>
                                <span data-bind="text:$data.saleCount"></span><span data-bind="text:$parent.ViewUnit($data.Type)">
                                </span>
                            </td>
                            <td>
                                <span data-bind="text:$parent.getStatus($data.Status)"></span>
                                <!--<div class="hidden-sm hidden-xs btn-group">
                                <button class="btn btn-xs btn-success" data-bind="visible:$parent.visibleType($data.Status,1),attr:{id:'btnEwm_'+$data.RequestCode_ID()},click: function() {$parent.productEwm($data.RequestCode_ID);}">
                                    查看产品二维码
                                </button>
                                <button class="btn btn-xs btn-success" data-bind="visible:$parent.visibleType($data.Status,2),attr:{id:'btnRecord_'+$data.RequestCode_ID()},click: function() {$parent.salesRecord($data.RequestCode_ID);}">
                                    查看销售记录
                                </button>
                                <button class="btn btn-xs btn-success" data-bind="visible:$parent.visibleType($data.Status,3),attr:{id:'btnPackaging_'+$data.RequestCode_ID()},click: function() {$parent.audit($data.RequestCode_ID,2);}">
                                    打包
                                </button>
                                <button class="btn btn-xs btn-success" data-bind="visible:$parent.visibleType($data.Status,4),attr:{id:'btnDownload_'+$data.RequestCode_ID()},click: function() {$parent.audit($data.RequestCode_ID,4);}">
                                    下载
                                </button>
                                <button class="btn btn-xs btn-success" data-bind="visible:$parent.visibleType($data.Status,5),attr:{id:'btnAudit_'+$data.RequestCode_ID()},click: function() {$parent.audit($data.RequestCode_ID,3);}">
                                    审核通过
                                </button>
                                <button class="btn btn-xs btn-success" data-bind="visible:$parent.visibleType($data.Status,6),attr:{id:'btnGenerate_'+$data.RequestCode_ID()},click: function() {$parent.audit($data.RequestCode_ID,1);}">
                                    手动生成
                                </button>
                            </div>-->
                            </td>
                            <td>
                                <!--<div class="hidden-sm hidden-xs btn-group">-->
                                <button classf="btn btn-xs btn-success mar8" data-bind="visible:false,attr:{id:'btnEwm_'+$data.RequestCode_ID()},click: function() {$parent.productEwm($data.RequestCode_ID);}">
                                    查看产品二维码
                                </button>
                                <button class="btn btn-xs btn-success mar8" data-bind="visible:false,attr:{id:'btnRecord_'+$data.RequestCode_ID()},click: function() {$parent.salesRecord($data.RequestCode_ID);}">
                                    查看销售记录
                                </button>
                                <button class="btn btn-xs btn-success mar8" data-bind="visible:false,attr:{id:'btnPackaging_'+$data.RequestCode_ID()},click: function() {$parent.audit($data.RequestCode_ID,2,$data.EnterpriseName,$data.MaterialFullName,$parent.ViewType($data.Type),$parent.ViewSpecification($data.Specifications)+$parent.ViewSpecification($data.GuiGe),$data.ApplyCount);}">
                                    打包
                                </button>
                                <button class="btn btn-xs btn-success mar8" data-bind="visible:false,attr:{id:'btnDownload_'+$data.RequestCode_ID()},click: function() {$parent.downloadFile($data.DownLoadURL,4);}">
                                    下载
                                </button>
                                <button class="btn btn-xs btn-success mar8" data-bind="visible:false,attr:{id:'btnAudit_'+$data.RequestCode_ID()},click: function() {$parent.audit($data.RequestCode_ID,3,$data.EnterpriseName,$data.MaterialFullName,$parent.ViewType($data.Type),$parent.ViewSpecification($data.Specifications)+$parent.ViewSpecification($data.GuiGe),$data.ApplyCount);}">
                                    审核通过
                                </button>
                                <button class="btn btn-xs btn-success mar8" data-bind="visible:false,attr:{id:'btnGenerate_'+$data.RequestCode_ID()},click: function() {$parent.wait(1),$parent.audit($data.RequestCode_ID,1,$data.EnterpriseName,$data.MaterialFullName,$parent.ViewType($data.Type),$parent.ViewSpecification($data.Specifications)+$parent.ViewSpecification($data.GuiGe),$data.ApplyCount)}">
                                    手动生成
                                </button>
                                <!--     </div>-->
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="modal-footer no-margin-top no-t-border">
                <ul class="pagination" id="requestPager" data-bind="requestPagerBH:vmRequest.pageSize,totalCounts:vmRequest.totalCounts,pageIndex:vmRequest.pageIndex">
                </ul>
            </div>
        </div>
    </div>
</body>
</html>
