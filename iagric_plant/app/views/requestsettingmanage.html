<div class="page-content">
    <div class="row mat10">
        <form class="form-horizontal" role="form" onkeydown="if(event.keyCode==13)return false;">
        <div class="form-group mab0 clearfix">
            <div class="col-md-12">
                <div class="col-md-3 no-padding">
                    <div class="input-group stylish-input-group">
                        <input type="text" class="form-control" placeholder="请输入检索信息..." data-bind="value: searchTitle">
                        <span class="input-group-addon btn-success">
                            <button type="submit" data-bind="click:searchRequestCodeMa">
                                <span class="fa fa-search"></span>
                            </button>
                        </span>
                    </div>
                </div>
                <div class="col-md-9">
                    <div class="form-inline">
                        <span class="lbl">筛选：</span>
                        <input type="text" class="input-md" placeholder="产品名称" data-bind="value: mName,valueUpdate: 'afterkeydown'">
                        <input type="text" class="input-small" placeholder="批次号" data-bind="value: bName,valueUpdate: 'afterkeydown'">
                        <input placeholder="开始时间" class="input-small" id="date1" type="text" data-date-format="yyyy-mm-dd"
                            data-bind="value:beginDate" />
                        -
                        <input placeholder="结束时间" class="input-small" id="date2" type="text" data-date-format="yyyy-mm-dd"
                            data-bind="value:endDate" />
                        <span>
                            <button type="submit" data-bind="click:searchRequestCodeMa" class="btn btn-lg btn-success"
                                style="margin-bottom: 5px;">
                                查询</button></span>
                                <span>
                            <button type="submit" data-bind="click:GetPIInfo" class="btn btn-lg btn-success"
                                style="margin-bottom: 5px;">
                                同步PI数据</button></span>
                               <!--<span>
                            <button type="submit" data-bind="click:activeUploadFile" class="btn btn-lg btn-success"
                                style="margin-bottom: 5px;">
                                激活上传文件</button></span>-->
                    </div>
                </div>
            </div>
        </div>
        <div class="space-4">
        </div>
        </form>
    </div>
    <div class="row">
        <div class="col-md-12">
            <table id="simple-table" class="table table-striped table-bordered table-hover">
                <thead>
                    <tr>
                        <th style="width: 10%">
                            批次号
                        </th>
                        <th style="width: 8%">
                            配置码个数
                        </th>
                  <!--      <th style="width: 8%">
                            规格
                        </th>-->
                        <th style="width: 8%">
                            码用途
                        </th>
                        <th style="width: 8%">
                            码类型
                        </th>
                        <th style="width: 7%">
                            批次类型
                        </th>
                        <th style="width: 10%">
                            产品名称
                        </th>
                         <th style="width: 10%">
                            产品型号
                        </th>
                        <th style="width: 13%">
                            操作时间
                        </th>
                        <th style="width: 7%">
                            备注
                        </th>
                        <th>
                            操作
                        </th>
                    </tr>
                </thead>
                <tbody data-bind="foreach:vmRequestCodeMa.ObjList">
                    <tr data-bind="event: { mouseover: $parent.mouseoverFun, mouseout: $parent.mouseoutFun,click:$parent.myNavigateTo}">
                        <td>
                            <i id="iShowSub" title="点击展开/折叠子批次" class="ace-icon spr5 fa fa-caret-right green bigger-140"
                                style="float: left" data-bind="click: function( data, event) {$parent.showSubBatch($data.RequestID, data, event);}">
                            </i>
                            <p style="display: inline-block" class="cut width70" data-bind="text:$data.BatchName,attr:{title:$data.BatchName}">
                            </p>
                        </td>
                        <td>
                            <p>
                                <span eleflag="SettingCount" data-bind="text:$data.Count"></span>个</p>
                        </td>
                    <!--    <td>
                            <p eleflag="IsLocal" data-bind="text:$data.Spec">
                            </p>
                        </td>-->
                        <td>
                            <p eleflag="RequestCodeType" data-bind="text:$parent.RequestCodeType($data.RequestCodeType)">
                            </p>
                        </td>
                        <td>
                            <p eleflag="CodeType" data-bind="text:$parent.CodeType($data.Type)">
                            </p>
                        </td>
                        <td>
                            <p eleflag="BatchType" data-bind="text:$parent.BatchType($data.BatchType)">
                            </p>
                        </td>
                        <td>
                            <p style="display: inline-block" class="cut width100" data-bind="text:$data.MaterialFullName,attr:{title:$data.MaterialFullName}">
                            </p>
                        </td>
                         <td>
                            <p style="display: inline-block" class="cut width70" data-bind="text:$data.MaterialXH,attr:{title:$data.MaterialXH}">
                            </p>
                        </td>
                        <td>
                            <span eleflag="SetDate" data-bind="text:$data.StrSetDate"></span>
                        </td>
                        <td>
                            <p class="cut width70" eleflag="Memo" data-bind="text:$data.Memo,attr:{title:$data.Memo}">
                            </p>
                        </td>
                        <td>
                            <div class="hidden-sm hidden-xs action-buttons">
                                <a href="#" title="开通追溯" style="display: none;" eleflag="zhuisu" data-bind="click: function(data, event) {$parent.editCodeType($data.ID,$data.RequestCodeType,data,event);}">
                                    <img src='../../images/b-ktzs.png' lazysrc="../../images/b-ktzs.png">
                                </a><a href="#" title="开通防伪" style="display: none;" eleflag="fangwei" data-bind="click: function(data, event) {$parent.editCodeType($data.ID,$data.RequestCodeType,data,event);}">
                                    <img src='../../images/b-fangwei.png' lazysrc="../../images/b-fangwei.png">
                                </a><a href="#" title="追溯信息" style="display: none;" eleflag="Setting" data-bind="click: function(data,event){$parent.codelastsetting($data.ID,data,event);}">
                                    <img src='../../images/b-zhuisu.png' lazysrc="../../images/b-zhuisu.png">
                                </a><a href="#" title="码配置" style="display: none;" eleflag="CodeSetting" data-bind="click: function(data,event){$parent.fwcodesetting($data.ID,data,event);}">
                                    <img src='../../images/b-peizhi.png' lazysrc="../../images/b-peizhi.png">
                                </a><a href="#" style="display: none;" eleflag="Setting" title="追溯配置" data-bind="click: function(data,event){$parent.codesetting($data.ID,data,event);}">
                                    <img src='../../images/b-peizhi.png' lazysrc="../../images/b-peizhi.png">
                                </a><a href="#" style="display: none;" eleflag="Part" data-bind="click: function(data,event){$parent.batchpart($data.ID,$data.PacketState,data,event);}"
                                    title="拆分批次">
                                    <img src='../../images/b-pici.png' lazysrc="../../images/b-pici.png">
                                </a><a href="#" eleflag="SearchCode" style="display: none;" data-bind="click: function(data,event){$parent.ProductEwm($data.ID,$data.Status,data,event);}"
                                    title="查看码">
                                    <img src="../../images/b-chakan.png" lazysrc="../../images/b-chakan.png">
                                </a>
<!--                                <a href="#" eleflag="Packet" style="display: none;" data-bind="click: function(data,event){$parent.redPacket($data.ID,data,event,$data.EnterpriseId,$data.PacketState);}"
                                    title="活动管理">
                                    <img src="../../images/b-packet.png" lazysrc="../../images/b-packet.png">
                                </a>-->
                                <a href="#" style="display: none;" eleflag="SettingMemo" data-bind="click: function(data,event){$parent.settingmemo($data.ID,data,event);}"
                                    title="备注信息">
                                    <img src='../../images/beizhu.png' lazysrc="../../images/beizhu.png">
                                </a>
                            </div>
                        </td>
                    </tr>
                    <!-- ko foreach: $data.subBatchObj -->
                    <tr style="display: none; background: #edf6ef; height: 50px;" data-bind="attr:{subflag:'subBatchObj_'+$parent.RequestID()},event: { mouseover: $root.mouseoverFun, mouseout: $root.mouseoutFun}">
                        <td>
                            <p style="display: inline-block; margin-left: 14px" class="cut width70" data-bind="text:$data.BatchName,attr:{title:$data.BatchName}">
                            </p>
                        </td>
                        <td>
                            <p>
                                <span eleflag="SettingCount" data-bind="text:$data.Count"></span>个</p>
                        </td>
                        <td>
                            <p eleflag="IsLocal" data-bind="text:$data.Spec">
                            </p>
                        </td>
                        <td>
                            <p eleflag="RequestCodeType" data-bind="text:$root.RequestCodeType($data.RequestCodeType)">
                            </p>
                        </td>
                        <td>
                            <p eleflag="CodeType" data-bind="text:$root.CodeType($data.Type)">
                            </p>
                        </td>
                        <td>
                            <p eleflag="BatchType" data-bind="text:$root.BatchType($data.BatchType)">
                            </p>
                        </td>
                        <td>
                            <p style="display: inline-block" class="cut width100" data-bind="text:$data.MaterialFullName,attr:{title:$data.MaterialFullName}">
                            </p>
                        </td>
                        <td>
                            <p eleflag="SetDate" data-bind="text:$data.StrSetDate">
                            </p>
                        </td>
                        <td>
                            <p class="cut width70" eleflag="Memo" data-bind="text:$data.Memo,attr:{title:$data.Memo}">
                            </p>
                        </td>
                        <td>
                            <div class="hidden-sm hidden-xs action-buttons">
                                <a href="#" title="开通追溯" style="display: none;" eleflag="zhuisu" data-bind="click: function(data, event) {$root.editCodeType($data.ID,$data.RequestCodeType,data,event);}">
                                    <img src='../../images/b-ktzs.png' lazysrc="../../images/b-ktzs.png">
                                </a><a href="#" title="开通防伪" style="display: none;" eleflag="fangwei" data-bind="click: function(data, event) {$root.editCodeType($data.ID,$data.RequestCodeType,data,event);}">
                                    <img src='../../images/b-fangwei.png' lazysrc="../../images/b-fangwei.png">
                                </a><a href="#" title="追溯信息" style="display: none;" eleflag="Setting" data-bind="click: function(data,event){$root.codelastsetting($data.ID,data,event);}">
                                    <img src='../../images/b-zhuisu.png' lazysrc="../../images/b-zhuisu.png">
                                </a><a href="#" title="码配置" style="display: none;" eleflag="CodeSetting" data-bind="click: function(data,event){$root.fwcodesetting($data.ID,data,event);}">
                                    <img src='../../images/b-peizhi.png' lazysrc="../../images/b-peizhi.png">
                                </a><a href="#" style="display: none;" eleflag="Setting" title="追溯配置" data-bind="click: function(data,event){$root.codesetting($data.ID,data,event);}">
                                    <img src='../../images/b-peizhi.png' lazysrc="../../images/b-peizhi.png">
                                </a><a href="#" style="display: none;" eleflag="Part" data-bind="click: function(data,event){$root.batchpart($data.ID,data,event);}"
                                    title="拆分批次">
                                    <img src='../../images/b-pici.png' lazysrc="../../images/b-pici.png">
                                </a><a href="#" eleflag="SearchCode" style="display: none;" data-bind="click: function(data,event){$root.ProductEwm($data.ID,$data.Status,data,event);}"
                                    title="查看码">
                                    <img src="../../images/b-chakan.png" lazysrc="../../images/b-chakan.png">
                                </a>
                                <!--   <a href="#" eleflag="Packet" style="display: none;"  data-bind="click: function(data,event){$parent.redPacket($data.ID,data,event,$data.EnterpriseId);}"
                                    title="红包管理">
                                    <img src="../../images/b-packet.png" lazysrc="../../images/b-packet.png">
                                </a>-->
                                <a href="#" style="display: none;" eleflag="SettingMemo" data-bind="click: function(data,event){$root.settingmemo($data.ID,data,event);}"
                                    title="备注信息">
                                    <img src='../../images/beizhu.png' lazysrc="../../images/beizhu.png">
                                </a>
                            </div>
                        </td>
                    </tr>
                    <!-- /ko -->
                </tbody>
            </table>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12">
            <div class="dataTables_paginate paging_simple_numbers" id="dynamic-table_paginate">
                <ul class="pagination" id="requestsettingmanagePager" data-bind="requestsettingmanagePager:vmRequestCodeMa.pageSize,totalCounts:vmRequestCodeMa.totalCounts,pageIndex:vmRequestCodeMa.pageIndex">
                </ul>
            </div>
        </div>
    </div>
</div>
